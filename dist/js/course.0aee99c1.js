"use strict";(self["webpackChunkvidhi"]=self["webpackChunkvidhi"]||[]).push([[449],{894:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"course-details mb-3"},[e("div",{staticClass:"divider divider-error font-bold text-xl"},[t._v(t._s(t.Course.name))]),e("p",[t._v(t._s(t.Course.description))]),e("div",{staticClass:"stats shadow mt-6"},[e("div",{staticClass:"stat place-items-center"},[e("div",{staticClass:"stat-title"},[t._v("Acronym")]),e("div",{staticClass:"stat-value"},[t._v(t._s(t.Course.acronym))])]),e("div",{staticClass:"stat place-items-center"},[e("div",{staticClass:"stat-title"},[t._v("Credits")]),e("div",{staticClass:"stat-value text-secondary"},[t._v(t._s(t.Course.credits))]),e("div",{staticClass:"stat-desc text-secondary-content"},[t._v(t._s(t.Course.level))])]),e("div",{staticClass:"stat place-items-center overflow-auto"},[e("div",{staticClass:"stat-title"},[t._v("Pre/Co")]),e("div",{staticClass:"stat-value"},[t._v(t._s(t.Course.prerequisites))]),e("div",{staticClass:"stat-desc"},[t._v("↘︎ "+t._s(t.Course.corequisites))])])]),e("div",{staticClass:"divider"},[t._v("Ratings")]),e("div",{staticClass:"stats shadow mt-3 overflow-auto"},t._l(t.ratings,(function(s){return e("div",{key:s.id,staticClass:"stat place-items-center overflow-auto"},[e("div",{staticClass:"stat-title"},[t._v(t._s(s.rtype))]),e("div",{staticClass:"stat-value"},[t._v(t._s(s.avg_rating))])])})),0),t.isAuthenticated?e("div",{staticClass:"label"},[e("span",{staticClass:"label-text"},[t._v("Rate")])]):t._e(),t.isAuthenticated?e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.ratingTypes,(function(s){return e("tr",{key:s.id},[e("td",[t._v(" "+t._s(s.rtype)+" ")]),e("td",[t.getPreviousRating(s.id)>0?e("p",[t._v(" "+t._s(t.getPreviousRating(s.id))+" ")]):e("input",{directives:[{name:"model",rawName:"v-model",value:t.ratingValues[s.id],expression:"ratingValues[ratingType.id]"}],staticClass:"input input-bordered w-full max-w-xs",attrs:{type:"number"},domProps:{value:t.ratingValues[s.id]},on:{input:function(e){e.target.composing||t.$set(t.ratingValues,s.id,e.target.value)}}})]),e("td",[0===t.getPreviousRating(s.id)?e("button",{staticClass:"btn btn-xs",on:{click:function(e){return t.rate(t.ratingValues[s.id],s.id)}}},[t._v(" Rate ")]):t._e()])])})),0)]):t._e(),t._m(1),t.isAuthenticated?e("div",{staticClass:"flex flex-row justify-around"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newFeedback,expression:"newFeedback"}],staticClass:"input input-bordered w-full max-w-xs",attrs:{type:"text",placeholder:"Enter your feedback"},domProps:{value:t.newFeedback},on:{input:function(e){e.target.composing||(t.newFeedback=e.target.value)}}}),e("button",{staticClass:"btn btn-xs my-auto",on:{click:t.addFeedback}},[t._v("Post Feedback")])]):t._e(),t._l(t.feedbacks,(function(s){return e("div",{key:s.id,staticClass:"mt-3 px-3 flex flex-row gap-3 justify-between"},[e("div",{staticClass:"join my-auto"},[e("button",{staticClass:"btn btn-xs join-item",on:{click:function(e){return t._voteFeedback(s,"upvote")}}},[t._v("+"),e("span",[t._v(" "+t._s(s.upvote))])]),e("button",{staticClass:"btn btn-xs join-item",on:{click:function(e){return t._voteFeedback(s,"downvote")}}},[t._v("-"),e("span",[t._v(" "+t._s(s.downvote))])])]),e("div",{staticClass:"ml-3"},[t._v(t._s(s.feedback))]),t.isAuthenticated?e("div",{staticClass:"my-auto"},[s.student_id==t.user.user.id?e("button",{staticClass:"badge badge-outline",on:{click:function(e){return t.removeFeedback(s)}}},[t._v("x")]):t._e()]):t._e()])}))],2)},i=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("td",[t._v(" Rating Type ")]),e("td",[t._v(" Rating Value ")]),e("td",[t._v(" Action ")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"label"},[e("span",{staticClass:"label-text"},[t._v("Feedbacks")])])}],n=s(408),r={name:"CourseDetailsView",data(){return{newFeedback:"",rating_value:"",ratingValues:{}}},computed:{...(0,n.Se)(["isAuthenticated","user"]),Course:function(){return this.$store.getters.getCourse},feedbacks:function(){return this.$store.getters.getFeedbacks},ratings:function(){return this.$store.getters.getRatings},rating:function(){return this.$store.getters.getRating},ratingTypes:function(){return this.$store.getters.getRatingTypes}},methods:{...(0,n.nv)(["fetchCourse","fetchFeedbacks","fetchRatings","fetchRating","postFeedback","deleteFeedback","voteFeedback","fetchRatingTypes","giveRating"]),addFeedback(){this.postFeedback({id:this.$route.params.course_id,feedback:this.newFeedback}),this.newFeedback=""},removeFeedback(t){this.deleteFeedback(t.course_id)},_voteFeedback(t,e){this.voteFeedback({feedback:t,vote:e})},getPreviousRating(t){const e=this.rating.find((e=>e.rating_id==t));return e?e.value:0},rate(t,e){this.$set(this.ratingValues,e,t),this.giveRating({course_id:this.$route.params.course_id,rating_type:e,rating_value:t})}},created:function(){const t=this.$route.params.course_id;this.fetchCourse(t),this.fetchFeedbacks(t),this.fetchRatings(t),this.fetchRatingTypes(),this.$store.getters.isAuthenticated&&this.fetchRating(t)}},c=r,d=s(1001),o=(0,d.Z)(c,a,i,!1,null,null,null),u=o.exports}}]);
//# sourceMappingURL=course.0aee99c1.js.map