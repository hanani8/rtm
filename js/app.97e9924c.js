(function(){"use strict";var t={8338:function(t,e,n){n(560);var r=n(7195),s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container relative mx-auto max-w-md h-screen flex flex-col border-2 border-black",attrs:{id:"app"}},[e("header",{staticClass:"flex items-center justify-between p-4 bg-primary"},[e("h1",{staticClass:"text-2xl font-bold text-primary-content"},[t._v("RTM")]),0!=t.isAuthenticated?e("div",{staticClass:"relative"},[e("details",{staticClass:"dropdown"},[t._m(0),e("ul",{staticClass:"shadow menu dropdown-content z-[1] bg-base-100 rounded-box w-52"},[e("li",[e("button",{staticClass:"btn btn-xs",on:{click:t._logout}},[t._v("Logout")])])])])]):e("div",[e("router-link",{staticClass:"text-primary-content",attrs:{to:"/login"}},[t._v("Login")])],1)]),e("main",{staticClass:"relative overflow-auto flex-1"},[e("router-view")],1),e("div",{staticClass:"px-7 bg-secondary shadow-lg"},[e("div",{staticClass:"flex"},[e("div",{staticClass:"flex-1 group"},[e("router-link",{staticClass:"flex items-end justify-center text-center mx-auto px-4 pt-2 w-full text-secondary-content group-hover:text-info",attrs:{to:"/"}},[e("span",{staticClass:"block px-1 pt-1 pb-1"},[e("i",{staticClass:"far fa-regular fa-registered text-2xl pt-1 mb-1 block"}),e("span",{staticClass:"block text-xs pb-2"},[t._v("Home")]),e("span",{staticClass:"block w-5 mx-auto h-1 group-hover:bg-indigo-500 rounded-full"})])])],1),e("div",{staticClass:"flex-1 group"},[e("router-link",{staticClass:"flex items-end justify-center text-center mx-auto px-4 pt-2 w-full text-secondary-content group-hover:text-info",attrs:{to:"/learning_paths"}},[e("span",{staticClass:"block px-1 pt-1 pb-1"},[e("i",{staticClass:"far fa-duotone fa-bezier-curve text-2xl pt-1 mb-1 block"}),e("span",{staticClass:"block text-xs pb-2"},[t._v("Paths")]),e("span",{staticClass:"block w-5 mx-auto h-1 group-hover:bg-indigo-500 rounded-full"})])])],1),e("div",{staticClass:"flex-1 group"},[e("router-link",{staticClass:"flex items-end justify-center text-center mx-auto px-4 pt-2 w-full text-secondary-content group-hover:text-info",attrs:{to:"/courses"}},[e("span",{staticClass:"block px-1 pt-1 pb-1"},[e("i",{staticClass:"far fa-solid fa-list text-2xl pt-1 mb-1 block"}),e("span",{staticClass:"block text-xs pb-2"},[t._v("Courses")]),e("span",{staticClass:"block w-5 mx-auto h-1 group-hover:bg-indigo-500 rounded-full"})])])],1)])])])},a=[function(){var t=this,e=t._self._c;return e("summary",{staticClass:"btn btn-md bg-primary btn-circle"},[e("img",{attrs:{src:n(1299),alt:"Person Icon"}})])}],o=n(408),i={data(){return{showDropdown:!1}},computed:{...(0,o.Se)(["isAuthenticated"])},methods:{...(0,o.nv)(["logout"]),toggleDropdown(){this.showDropdown=!this.showDropdown},_logout(){this.logout(),"/"!=this.$route.path&&this.$router.push("/")}}},c=i,u=n(1001),l=(0,u.Z)(c,s,a,!1,null,null,null),d=l.exports,f=n(2241),h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home flex flex-col"},[e("div",{staticClass:"divider divider-error font-bold text-xl"},[t._v("Preferences")]),e("div",{staticClass:"h-full flex flex-col justify-center sm:py-12"},[e("div",{staticClass:"p-10 xs:p-0 mx-auto md:w-full md:max-w-md"},[e("div",{staticClass:"bg-base-200 shadow w-full rounded-lg divide-y divide-gray-200"},[e("div",{staticClass:"px-5 py-7"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.getRecommendations.apply(null,arguments)}}},[1!=t.isAuthenticated?e("div",{staticClass:"label"},[e("span",{staticClass:"label-text"},[t._v("Roll No.")])]):t._e(),1!=t.isAuthenticated?e("input",{directives:[{name:"model",rawName:"v-model",value:t.rollNumber,expression:"rollNumber"}],staticClass:"input input-bordered w-full max-w-xs",attrs:{type:"text"},domProps:{value:t.rollNumber},on:{input:function(e){e.target.composing||(t.rollNumber=e.target.value)}}}):t._e(),t._m(0),e("input",{directives:[{name:"model",rawName:"v-model",value:t.preferredNumber,expression:"preferredNumber"}],staticClass:"input input-bordered w-full max-w-xs",attrs:{type:"number"},domProps:{value:t.preferredNumber},on:{input:function(e){e.target.composing||(t.preferredNumber=e.target.value)}}}),e("div",{staticClass:"label"},[e("button",{staticClass:"btn btn-xs label-txt shadow-lg",attrs:{type:"button"},on:{click:t.getFutureCourses}},[e("span",{staticClass:"inline-block mr-2"},[t._v("Get Future Courses")])])]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.preferredCourse,expression:"preferredCourse"}],staticClass:"select select-bordered w-full max-w-xs",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.preferredCourse=e.target.multiple?n:n[0]}}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Select a course")]),t._l(t.futureCourses,(function(n){return e("option",{key:n,domProps:{value:n}},[t._v(t._s(n))])}))],2),e("button",{staticClass:"btn btn-md mt-3 shadow-lg",attrs:{type:"submit"}},[e("span",{staticClass:"inline-block mr-2"},[t._v("Get Reccommendations")]),e("svg",{staticClass:"w-4 h-4 inline-block",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"}})])])])])])])])])},p=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"label"},[e("span",{staticClass:"label-text"},[t._v("Preferred No. of Courses")])])}],g={name:"HomeView",data(){return{rollNumber:"",preferredNumber:"",preferredCourse:""}},computed:{...(0,o.Se)(["isAuthenticated","user"]),futureCourses:function(){return this.$store.getters.getFutureCourses}},methods:{...(0,o.nv)(["fetchRecommendations","fetchFutureCourses"]),getRecommendations(){const t={roll_no:this.isAuthenticated?this.user.user.name:this.rollNumber,pref_no:this.preferredNumber,pref_co:this.preferredCourse};this.fetchRecommendations(t),this.$router.push("/recommendations")},getFutureCourses(){const t={roll_no:this.isAuthenticated?this.user.user.name:this.rollNumber};this.fetchFutureCourses(t)}}},m=g,b=(0,u.Z)(m,h,p,!1,null,null,null),v=b.exports,y=n(4582);const w={user:null,role:null},C={async initAuth({commit:t}){try{const e=await y.Z.get("isloggedin"),n=e.data;return"LOGGED_IN"==n.msg?(t("setUser",n.data),n.data):(t("clearUser"),null)}catch(e){console.error("Authentication error:",e),t("clearUser")}},async login({commit:t},e){try{const n=await y.Z.post("login_user",e),r=n.data;t("setUser",r.data)}catch(n){throw console.error("Login error:",n),n}},async logout({commit:t}){await y.Z.delete("logout_user"),t("clearUser")}},x={setUser(t,e){t.user=e,t.role=e.role},clearUser(t){t.user=null,t.role=null}};var _={state:w,getters:{user:t=>t.user,isAuthenticated:t=>null!==t.user,isUser:t=>"student"==t.role,isAdmin:t=>"admin"==t.role},actions:C,mutations:x};const k={learningPaths:[]},R={getLearningPaths:t=>t.learningPaths},S={setLearningPaths:(t,e)=>{t.learningPaths=e["data"]}},Z={fetchLearningPaths:async({commit:t})=>{try{const e=await y.Z.get("learningpaths"),n=e.data;t("setLearningPaths",n)}catch(e){console.error("Error fetching learning paths:",e)}},upvoteLearningPath:async({dispatch:t},e)=>{try{await y.Z.patch(`learningpath/${e}`);await t("fetchLearningPaths")}catch(n){console.error("error upvoting a learning path",n)}}};var E={state:k,getters:R,mutations:S,actions:Z};const P={Courses:[],Course:{},Ratings:[],Rating:[],Feedbacks:[],RatingTypes:[]},N={getCourses:t=>t.Courses,getCourse:t=>t.Course,getRatings:t=>t.Ratings,getRating:t=>t.Rating,getFeedbacks:t=>t.Feedbacks,getRatingTypes:t=>t.RatingTypes},$={setCourses:(t,e)=>{t.Courses=e},setCourse:(t,e)=>{t.Course=e},setRatings:(t,e)=>{t.Ratings=e},setFeedbacks:(t,e)=>{t.Feedbacks=e},setRatingTypes:(t,e)=>{t.RatingTypes=e},setRating:(t,e)=>{t.Rating=e}},F={fetchCourses:async({commit:t})=>{try{const e=await y.Z.get("courses"),n=e.data;t("setCourses",n)}catch(e){console.log("Error while fetching all courses:",e)}},fetchCourse:async({commit:t},e)=>{try{const n=await y.Z.get(`course/${e}`),r=n.data;t("setCourse",r)}catch(n){console.log("Error while fetching course:",n)}},fetchRatings:async({commit:t},e)=>{try{const n=await y.Z.get(`course/${e}/aggregate_ratings`),r=n.data;t("setRatings",r)}catch(n){console.log("Error while fetching rating:",n)}},fetchRating:async({commit:t},e)=>{try{const n=await y.Z.get(`course/${e}/rating`),r=n.data;t("setRating",r)}catch(n){console.log("Error while fetching rating:",n)}},fetchFeedbacks:async({commit:t},e)=>{try{const n=await y.Z.get(`course/${e}/feedback`),r=n.data;t("setFeedbacks",r)}catch(n){console.log("Error while fetching feedback:",n)}},postFeedback:async({dispatch:t},{id:e,feedback:n})=>{try{const r={feedback:n},s=await y.Z.post(`course/${e}/feedback`,r);s.data;t("fetchFeedbacks",e)}catch(r){console.log("Error while posting feedback:",r)}},deleteFeedback:async({dispatch:t},e)=>{try{const n=await y.Z.delete(`course/${e}/feedback`);n.data;t("fetchFeedbacks",e)}catch(n){console.log("Error while deleting feedback:",n)}},voteFeedback:async({dispatch:t},{feedback:e,vote:n})=>{try{const r={feedback_id:e.id,vote:n},s=await y.Z.put("course/feedback/vote",r);s.data;t("fetchFeedbacks",e.course_id)}catch(r){console.log("Error while voting feedback:",r)}},fetchRatingTypes:async({commit:t})=>{try{const e=await y.Z.get("course/rating_types"),n=e.data;t("setRatingTypes",n)}catch(e){console.log("Error while fetching rating types:",e)}},giveRating:async({dispatch:t},{course_id:e,rating_type:n,rating_value:r})=>{try{const s={rating_type:n,rating_value:r},a=P.Rating.find((t=>t.rating_id==n));let o=0;if(a&&(o=a.value),0==o){const n=await y.Z.post(`course/${e}/rating`,s);n.data;return t("fetchRatings",e),void t("fetchRating",e)}{const n=await y.Z.put(`course/${e}/rating`,s);n.data;return t("fetchRatings",e),void t("fetchRating",e)}}catch(s){console.log("Error while giving rating:",s)}}};var A={state:P,getters:N,mutations:$,actions:F};const j={Students:[],Student:[]},T={getStudents:t=>t.Students,getStudent:t=>t.Student},L={setStudents:(t,e)=>{t.Students=e["data"]},setStudent:(t,e)=>{t.Student=e["data"]}},O={fetchStudents:async({commit:t})=>{try{const e=await y.Z.get("admin/student"),n=e.data;t("setStudents",n)}catch(e){console.log("Error while fetching all students:",e)}},fetchStudent:async({commit:t},e)=>{try{const n=await y.Z.get(`student/${e}`),r=n.data;t("setStudent",r)}catch(n){console.log("Error while fetching student:",n)}},updateScore:async({dispatch:t},e)=>{try{const n=e.student_id;await y.Z.patch(`admin/student/${n}`,e);await t("fetchStudent",n)}catch(n){console.log("Error while updating score:",n)}},addScore:async({dispatch:t},e)=>{try{const n=e.student_id;await y.Z.post(`student/${n}/scores`,e);await t("fetchStudent",n)}catch(n){console.log("Error while adding score:",n)}},addStudent:async({dispatch:t},e)=>{try{await y.Z.post("admin/student",e);await t("fetchStudents")}catch(n){console.log("Error while adding score:",n)}},deleteStudent:async({dispatch:t},e)=>{try{await y.Z.delete(`admin/student/${e}`);await t("fetchStudents")}catch(n){console.log("Error while deleting the student:",n)}},editStudent:async({dispatch:t},e)=>{try{const n=e.id;await y.Z.put(`admin/student/${n}`,e);await t("fetchStudent",n)}catch(n){console.log("Error while editing the student:",n)}}};var U={state:j,getters:T,mutations:L,actions:O};const D={Recommendations:[],future_courses:[]},B={getRecommendations:t=>t.Recommendations,getFutureCourses:t=>t.future_courses},M={setRecommendations:(t,e)=>{t.Recommendations=e},setFutureCourses:(t,e)=>{t.future_courses=e}},G={fetchRecommendations:async({commit:t},e)=>{try{const n=e.pref_no,r=e.roll_no,s=e.pref_co,a=await y.Z.get(`recommendations?roll_no=${r}&pref_no=${n}&pref_co=${s}`),o=a.data;t("setRecommendations",o)}catch(n){console.log("Error getting recommendation:",n)}},fetchFutureCourses:async({commit:t},e)=>{try{const n=e.roll_no,r=await y.Z.get(`get_future_courses/${n}`),s=r.data;t("setFutureCourses",s)}catch(n){console.log("Error getting future courses:",n)}}};var H={state:D,getters:B,actions:G,mutations:M};r.ZP.use(o.ZP);var I=new o.ZP.Store({modules:{auth:_,learning_paths:E,courses:A,students:U,re:H}});r.ZP.use(f.ZP);const q=[{path:"",name:"home",component:v},{path:"/learning_paths",name:"learning_paths",component:()=>n.e(62).then(n.bind(n,3700))},{path:"/courses",name:"courses",component:()=>n.e(953).then(n.bind(n,4196))},{path:"/recommendations",name:"recommendations",component:()=>n.e(544).then(n.bind(n,4020))},{path:"/course/:course_id",name:"course",component:()=>n.e(449).then(n.bind(n,894))},{path:"/admin",name:"admin",component:()=>n.e(328).then(n.bind(n,9854)),beforeEnter:K},{path:"/student/:student_id",name:"student",component:()=>n.e(1).then(n.bind(n,927)),beforeEnter:K},{path:"/login",name:"login",component:()=>n.e(1).then(n.bind(n,4635))}],z=new f.ZP({routes:q});function K(t,e,n){let r=I.getters.isAuthenticated,s=I.getters.isAdmin;if(!s||!r)return n("/login"),!1;n()}var V=z;y.Z.defaults.withCredentials=!0,y.Z.defaults.baseURL="http://localhost:5000/api",r.ZP.config.productionTip=!1,new r.ZP({router:V,store:I,render:t=>t(d),created(){this.$store.dispatch("initAuth").then((t=>{t&&("admin"==t.role?this.$router.push({name:"admin"}):"home"!=this.$route.name&&this.$router.push({name:"home"}))})).catch((t=>{console.error("Authentication error:",t),this.$router.push({name:"login"})}))}}).$mount("#app")},1299:function(t,e,n){t.exports=n.p+"img/person_1.dfd60dba.svg"}},e={};function n(r){var s=e[r];if(void 0!==s)return s.exports;var a=e[r]={exports:{}};return t[r].call(a.exports,a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,r,s,a){if(!r){var o=1/0;for(l=0;l<t.length;l++){r=t[l][0],s=t[l][1],a=t[l][2];for(var i=!0,c=0;c<r.length;c++)(!1&a||o>=a)&&Object.keys(n.O).every((function(t){return n.O[t](r[c])}))?r.splice(c--,1):(i=!1,a<o&&(o=a));if(i){t.splice(l--,1);var u=s();void 0!==u&&(e=u)}}return e}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[r,s,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,r){return n.f[r](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/"+{1:"student",62:"learning_paths",328:"admin",449:"course",544:"recommendations",953:"courses"}[t]+"."+{1:"2947f3e1",62:"b5049f4f",328:"40126b7d",449:"0aee99c1",544:"5eb682f2",953:"427c65d9"}[t]+".js"}}(),function(){n.miniCssF=function(t){return"css/"+{62:"learning_paths",449:"course",544:"recommendations"}[t]+"."+{62:"22a54459",449:"d9eaa85b",544:"5fee9086"}[t]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="vidhi:";n.l=function(r,s,a,o){if(t[r])t[r].push(s);else{var i,c;if(void 0!==a)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==e+a){i=d;break}}i||(c=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",e+a),i.src=r),t[r]=[s];var f=function(e,n){i.onerror=i.onload=null,clearTimeout(h);var s=t[r];if(delete t[r],i.parentNode&&i.parentNode.removeChild(i),s&&s.forEach((function(t){return t(n)})),e)return e(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),c&&document.head.appendChild(i)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){if("undefined"!==typeof document){var t=function(t,e,n,r,s){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css";var o=function(n){if(a.onerror=a.onload=null,"load"===n.type)r();else{var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.href||e,c=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=o,c.request=i,a.parentNode&&a.parentNode.removeChild(a),s(c)}};return a.onerror=a.onload=o,a.href=e,n?n.parentNode.insertBefore(a,n.nextSibling):document.head.appendChild(a),a},e=function(t,e){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var s=n[r],a=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(a===t||a===e))return s}var o=document.getElementsByTagName("style");for(r=0;r<o.length;r++){s=o[r],a=s.getAttribute("data-href");if(a===t||a===e)return s}},r=function(r){return new Promise((function(s,a){var o=n.miniCssF(r),i=n.p+o;if(e(o,i))return s();t(r,i,null,s,a)}))},s={143:0};n.f.miniCss=function(t,e){var n={62:1,449:1,544:1};s[t]?e.push(s[t]):0!==s[t]&&n[t]&&e.push(s[t]=r(t).then((function(){s[t]=0}),(function(e){throw delete s[t],e})))}}}(),function(){var t={143:0};n.f.j=function(e,r){var s=n.o(t,e)?t[e]:void 0;if(0!==s)if(s)r.push(s[2]);else{var a=new Promise((function(n,r){s=t[e]=[n,r]}));r.push(s[2]=a);var o=n.p+n.u(e),i=new Error,c=function(r){if(n.o(t,e)&&(s=t[e],0!==s&&(t[e]=void 0),s)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;i.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",i.name="ChunkLoadError",i.type=a,i.request=o,s[1](i)}};n.l(o,c,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,r){var s,a,o=r[0],i=r[1],c=r[2],u=0;if(o.some((function(e){return 0!==t[e]}))){for(s in i)n.o(i,s)&&(n.m[s]=i[s]);if(c)var l=c(n)}for(e&&e(r);u<o.length;u++)a=o[u],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(l)},r=self["webpackChunkvidhi"]=self["webpackChunkvidhi"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(8338)}));r=n.O(r)})();
//# sourceMappingURL=app.97e9924c.js.map